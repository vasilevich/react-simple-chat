"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),a=e(t),A=e(require("moment")),r=e(require("react-moment")),n=function(e){var t=e.title,A=e.minimize,r=e.headerAvatar,n=e.titleColor,i=e.minimizeIcon;return a.createElement("header",{className:"chat-header",style:e.headerStyle},a.createElement("div",{className:"d-flex align-items-center"},r&&a.createElement("div",{className:"chat-header__avatar"},a.createElement("img",{src:r,alt:"avatar"})),a.createElement("div",{className:"chat-header__title",style:{color:n}},t||"Chat Demo")),a.createElement("img",{src:i||"data:image/png;base64, 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",alt:"minimize",className:"chat-header__minimize",onClick:A}))};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var A in a)Object.prototype.hasOwnProperty.call(a,A)&&(e[A]=a[A])}return e}).apply(this,arguments)}var l=function(e){return a.createElement("div",{className:"left"===e.position?"chat-bubble__wrapper chat-bubble--left":"chat-bubble__wrapper chat-bubble--right"},a.createElement("div",{className:"chat-bubble__content",style:e.style},e.message.text))},c=function(e){return a.createElement("div",{className:"chat-timestamp",style:e.style},a.createElement(r,{format:"dd. o HH:mm"},A(e.date)))},s=function(e){return a.createElement("div",{className:"chat-message__avatar"},a.createElement("img",{src:e.source,alt:"avatar"}))},d=function(){return a.createElement("div",{className:"chat__typing-indicator"},a.createElement("div",{className:"chat__typing-indicator__content"},a.createElement("div",{className:"dot"}),a.createElement("div",{className:"dot"}),a.createElement("div",{className:"dot"})))},m=function(e){var r=e.messages,n=e.user,m=e.isTyping,u=e.leftBubbleStyle,o=e.rightBubbleStyle,g=e.backgroundColor,b=e.timestampStyle,p=a.useRef(),E=t.useState(),f=E[0],h=E[1];t.useEffect((function(){var e;h(null==(e=r.find((function(e){return e.user.id!==n.id})))?void 0:e.user.avatar)}),[r,n]);var C=function(e,t,a){var r=e[t],n=e[t-1],i=e[t+1],l="0px",c="0px",s="0px",d="0px",m=!!(n&&A(r.createdAt).diff(A(n.createdAt),"minutes")>5);return m||(m=!n),m&&!n&&(l="15px",c="15px"),!!(i&&A(i.createdAt).diff(A(r.createdAt),"minutes")>5)&&(s="15px",d="15px"),m&&(l="15px",c="15px"),r.user.id!==(null==n?void 0:n.user.id)&&(l="15px",c="15px"),i||(s="15px",d="15px"),r.user.id!==(null==i?void 0:i.user.id)&&(s="15px",d="15px"),r.user.id===(null==n?void 0:n.user.id)&&(c="15px"),r.user.id===(null==i?void 0:i.user.id)&&(s="15px"),"left"===a?{borderRadius:l+" "+c+" "+s+" "+d}:{borderRadius:c+" "+l+" "+d+" "+s}};return a.createElement("div",{className:"chat-body",style:{background:g}},r.map((function(e,t){var d,m=r[t-1],g=r[t+1],p="left";e.user.id===n.id?(p="right",d=C(r,t,"right")):d=C(r,t,"left");var E=!0;m&&A(e.createdAt).diff(A(m.createdAt),"minutes")<5&&(E=!1);var f=!1;return"left"===p&&(g&&e.user.id!==g.user.id||g&&A(g.createdAt).diff(A(e.createdAt),"minutes")>5||!g)&&e.user.avatar&&(f=!0),a.createElement("div",{key:t,style:g?e.user.id!==g.user.id?{marginBottom:"8px"}:{}:{marginBottom:"8px"}},E&&e.createdAt?a.createElement(c,{date:e.createdAt,style:b}):null,a.createElement("div",{className:"chat-body__message"},e.user.avatar&&f&&a.createElement(s,{source:e.user.avatar}),e.user.avatar&&!f&&a.createElement("div",{style:{marginLeft:"30px"}}),a.createElement(l,{message:e,position:p,style:i({},d,"left"===p?u:o)})))})),m&&a.createElement("div",{className:"chat-body__typing-indicator"},void 0!==f&&a.createElement(s,{source:f}),a.createElement(d,null)),a.createElement("div",{ref:p}))},u=function(e){var r=e.user,n=e.onSend,i=e.onInputTextChanged,l=e.inputToolbarStyle,c=e.inputStyle,s=e.sendIcon,d=t.useState(""),m=d[0],u=d[1],o=t.useState(),g=o[0],b=o[1],p=t.useRef();t.useEffect((function(){i&&i(m),b({text:m,createdAt:A().format("YYYY-MM-DD HH:mm:ss"),user:r})}),[m,i]);var E=function(){g&&n&&n(g),u(""),p.current.focus()};return a.createElement("div",{className:"chat-input",style:l},a.createElement("input",{type:"text",placeholder:"Type a message...",value:m,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&E()},ref:p,style:c}),m.length>0&&a.createElement("img",{src:s||"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALdSURBVFiFxZfNa1RXGMZ/7z3nznXuTALdiCkIlsYIIVHB7tyoBNy5KNo/oLiwCKLiJsQYxCRFdFEIGT+yCVZ3Im1XbmytWEtppUYiKDOGIAQRJcYkJpOZe+/bRTJjk5I6n8mzu4f3Oc+Pw/l4r6gq6ylnXdMBC9D/nL2RckSEUCL+FmG4s5nXawEg59J6QODHFeMLwE0HBjub+b2uAL1pfQK0/k/NIxVSoc+Nnibmag7Ql9YJhU9LqH0nwnAUcOn0Np7VDKA3rX8CX5ThUYQ7QKrlc346BGE1AA7Cz2V6BKUD5VY6w3h/mu6z42yqFED60rpf4XalEywpD9xCSXVt5V5ZABdGNLHg8xZwq4QoaFQhFeb4vqeV2Y8CqCq9Ge4L7K4RQEEzAtdCuNTdzJPVihZvwvL3QSlqUDjqwGhvhrv9Gb66+vC/q1xYgT0Cv9QBYkUaL1GGiLja1cJEEWAggzcNU8CGukMsKlDlfLiVM1J4Dfsy3AH2rREAAArf2sJHR3Iu/5mXL8kYKtyd9RnLVXdwBA4WAabfz+wam86WZhSYCbI8mjFVAcQcs6UIcP2dZ+aC6iYsV3Fj/rIAx/6YbJyX6JO1ChagMRb7bfPOxj0WIIh7X2t2vu7B1nGipHXvu8acTLX7D2GpI8qH0Zf1DPatnYpbO9yUT3b17FzeU1iAhSjcUetQR0ST1o661um+3N6wsuP6APDNg9mNWRs01irYMybrW/cH38jx79oSrz5WbyXpHNbSTt+qEiDhui/ijrmY2pEcKMdrcxoeqDTYFSdMWPdX13VOpNoSjyuZwy4EQVu5Jt/YyXjMHWoyiTM9reQqCS4ChKolPUCOiDZYO+IZ2zm4PVFtB/UBQEQCYNUr0DNmPmHtTeKcvNLS8KZWwUWApOtenAzDrn8PLm2qcd+6/YPt/lCtQ5dlqSpHR9+fmsuFJ1SiyBMzEjPeqYH22NN6Bi8DWE+t+9/xP1kh8hlyxqRXAAAAAElFTkSuQmCC",alt:"send",onClick:E}))},o=function(e){return a.createElement("img",{src:e.icon||"data:image/png;base64, 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",alt:"chat",className:"chat-widget",onClick:e.onClick,style:e.style})};exports.default=function(e){var A=e.title,r=e.messages,i=e.user,l=e.onSend,c=e.isTyping,s=e.onInputTextChanged,d=e.headerAvatar,g=e.headerStyle,b=e.titleColor,p=e.minimizeIcon,E=e.leftBubbleStyle,f=e.rightBubbleStyle,h=e.backgroundColor,C=e.timestampStyle,S=e.inputToolbarStyle,v=e.inputStyle,y=e.sendIcon,Q=e.chatIcon,B=e.containerStyle,V=e.widgetStyle,x=t.useState(e.minimized),T=x[1];return a.createElement(a.Fragment,null,x[0]?a.createElement(o,{onClick:function(){return T(!1)},icon:Q,style:V}):a.createElement("div",{className:"chat-container",style:B},a.createElement(n,{title:A,minimize:function(){return T(!0)},headerAvatar:d,headerStyle:g,titleColor:b,minimizeIcon:p}),a.createElement(m,{user:i,messages:r,isTyping:c,leftBubbleStyle:E,rightBubbleStyle:f,backgroundColor:h,timestampStyle:C}),a.createElement(u,{user:i,onSend:l,onInputTextChanged:s,inputToolbarStyle:S,inputStyle:v,sendIcon:y})))};
//# sourceMappingURL=react-simple-chat.cjs.production.min.js.map
